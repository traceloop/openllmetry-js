{
  "log": {
    "_recordingName": "Test OpenAI instrumentation/should set attributes in span for chat",
    "creator": {
      "comment": "persister:fs",
      "name": "Polly.JS",
      "version": "6.0.6"
    },
    "entries": [
      {
        "_id": "b6ac5fcb8cf060ac510e3df5b254f1f1",
        "_order": 0,
        "cache": {},
        "request": {
          "bodySize": 77,
          "cookies": [],
          "headers": [
            {
              "name": "accept",
              "value": "application/json"
            },
            {
              "name": "content-type",
              "value": "application/json; charset=UTF-8"
            },
            {
              "name": "accept-encoding",
              "value": "gzip,deflate"
            },
            {
              "name": "user-agent",
              "value": "azsdk-js-openai-rest/1.0.0-beta.11 core-rest-pipeline/1.14.0 Node/v18.17.1 OS/(arm64-Darwin-23.2.0)"
            },
            {
              "name": "x-ms-client-request-id",
              "value": "9c148d0f-93a0-42fa-8b92-b442c97aadb5"
            },
            {
              "name": "content-length",
              "value": "77"
            },
            {
              "name": "host",
              "value": "traceloop-stg.openai.azure.com"
            }
          ],
          "headersSize": 523,
          "httpVersion": "HTTP/1.1",
          "method": "POST",
          "postData": {
            "mimeType": "application/json; charset=UTF-8",
            "params": [],
            "text": "{\"messages\":[{\"role\":\"user\",\"content\":\"Tell me a joke about OpenTelemetry\"}]}"
          },
          "queryString": [
            {
              "name": "api-version",
              "value": "2023-12-01-preview"
            }
          ],
          "url": "https://traceloop-stg.openai.azure.com/openai/deployments/openllmetry-testing/chat/completions?api-version=2023-12-01-preview"
        },
        "response": {
          "bodySize": 885,
          "content": {
            "mimeType": "application/json",
            "size": 885,
            "text": "{\"id\":\"chatcmpl-8v0NhnxTftnYdxU5HIzAb1c8BZB7o\",\"object\":\"chat.completion\",\"created\":1708596853,\"model\":\"gpt-35-turbo\",\"prompt_filter_results\":[{\"prompt_index\":0,\"content_filter_results\":{\"hate\":{\"filtered\":false,\"severity\":\"safe\"},\"self_harm\":{\"filtered\":false,\"severity\":\"safe\"},\"sexual\":{\"filtered\":false,\"severity\":\"safe\"},\"violence\":{\"filtered\":false,\"severity\":\"safe\"}}}],\"choices\":[{\"finish_reason\":\"stop\",\"index\":0,\"message\":{\"role\":\"assistant\",\"content\":\"Why did the OpenTelemetry developer bring a ladder to the coding competition? \\n\\nBecause they wanted to trace their way to the top!\"},\"content_filter_results\":{\"hate\":{\"filtered\":false,\"severity\":\"safe\"},\"self_harm\":{\"filtered\":false,\"severity\":\"safe\"},\"sexual\":{\"filtered\":false,\"severity\":\"safe\"},\"violence\":{\"filtered\":false,\"severity\":\"safe\"}}}],\"usage\":{\"prompt_tokens\":15,\"completion_tokens\":27,\"total_tokens\":42}}\n"
          },
          "cookies": [],
          "headers": [
            {
              "name": "cache-control",
              "value": "no-cache, must-revalidate"
            },
            {
              "name": "content-length",
              "value": "885"
            },
            {
              "name": "content-type",
              "value": "application/json"
            },
            {
              "name": "access-control-allow-origin",
              "value": "*"
            },
            {
              "name": "apim-request-id",
              "value": "88484435-9eae-4d69-b6dc-89a93262ef9d"
            },
            {
              "name": "strict-transport-security",
              "value": "max-age=31536000; includeSubDomains; preload"
            },
            {
              "name": "x-content-type-options",
              "value": "nosniff"
            },
            {
              "name": "x-ms-region",
              "value": "East US 2"
            },
            {
              "name": "x-ratelimit-remaining-requests",
              "value": "119"
            },
            {
              "name": "x-ratelimit-remaining-tokens",
              "value": "119968"
            },
            {
              "name": "x-accel-buffering",
              "value": "no"
            },
            {
              "name": "x-request-id",
              "value": "72f59ab6-12f7-43c0-96c2-3aef9e9048c7"
            },
            {
              "name": "x-ms-client-request-id",
              "value": "9c148d0f-93a0-42fa-8b92-b442c97aadb5"
            },
            {
              "name": "azureml-model-session",
              "value": "d038-20240221052321"
            },
            {
              "name": "date",
              "value": "Thu, 22 Feb 2024 10:14:13 GMT"
            }
          ],
          "headersSize": 607,
          "httpVersion": "HTTP/1.1",
          "redirectURL": "",
          "status": 200,
          "statusText": "OK"
        },
        "startedDateTime": "2024-02-22T10:14:13.184Z",
        "time": 1060,
        "timings": {
          "blocked": -1,
          "connect": -1,
          "dns": -1,
          "receive": 0,
          "send": 0,
          "ssl": -1,
          "wait": 1060
        }
      }
    ],
    "pages": [],
    "version": "1.2"
  }
}
