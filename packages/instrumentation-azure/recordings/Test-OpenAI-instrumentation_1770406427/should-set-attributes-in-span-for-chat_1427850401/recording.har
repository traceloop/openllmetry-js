{
  "log": {
    "_recordingName": "Test OpenAI instrumentation/should set attributes in span for chat",
    "creator": {
      "comment": "persister:fs",
      "name": "Polly.JS",
      "version": "6.0.6"
    },
    "entries": [
      {
        "_id": "21af9e9b546f1cd8ec7487fd2b185ed5",
        "_order": 0,
        "cache": {},
        "request": {
          "bodySize": 77,
          "cookies": [],
          "headers": [
            {
              "name": "accept",
              "value": "application/json"
            },
            {
              "name": "content-type",
              "value": "application/json; charset=UTF-8"
            },
            {
              "name": "accept-encoding",
              "value": "gzip,deflate"
            },
            {
              "name": "user-agent",
              "value": "azsdk-js-openai-rest/1.0.0-beta.13 core-rest-pipeline/1.18.1 Node/20.9.0 OS/(arm64-Darwin-24.1.0)"
            },
            {
              "name": "x-ms-client-request-id",
              "value": "d143cfc9-85f3-43f5-918f-1ea3ed3f3843"
            },
            {
              "name": "content-length",
              "value": "77"
            },
            {
              "name": "host",
              "value": "traceloop-stg.openai.azure.com"
            }
          ],
          "headersSize": 521,
          "httpVersion": "HTTP/1.1",
          "method": "POST",
          "postData": {
            "mimeType": "application/json; charset=UTF-8",
            "params": [],
            "text": "{\"messages\":[{\"role\":\"user\",\"content\":\"Tell me a joke about OpenTelemetry\"}]}"
          },
          "queryString": [
            {
              "name": "api-version",
              "value": "2024-03-01-preview"
            }
          ],
          "url": "https://traceloop-stg.openai.azure.com/openai/deployments/openllmetry-testing/chat/completions?api-version=2024-03-01-preview"
        },
        "response": {
          "bodySize": 918,
          "content": {
            "mimeType": "application/json",
            "size": 918,
            "text": "{\"choices\":[{\"content_filter_results\":{\"hate\":{\"filtered\":false,\"severity\":\"safe\"},\"self_harm\":{\"filtered\":false,\"severity\":\"safe\"},\"sexual\":{\"filtered\":false,\"severity\":\"safe\"},\"violence\":{\"filtered\":false,\"severity\":\"safe\"}},\"finish_reason\":\"stop\",\"index\":0,\"logprobs\":null,\"message\":{\"content\":\"Why did the OpenTelemetry developer go broke?\\n\\nBecause they were always putting all their traces on the \\\"spend\\\" method!\",\"role\":\"assistant\"}}],\"created\":1734040519,\"id\":\"chatcmpl-AdlRP1oV7XS2HIOqsEfCrQGrZdwu9\",\"model\":\"gpt-35-turbo\",\"object\":\"chat.completion\",\"prompt_filter_results\":[{\"prompt_index\":0,\"content_filter_results\":{\"hate\":{\"filtered\":false,\"severity\":\"safe\"},\"self_harm\":{\"filtered\":false,\"severity\":\"safe\"},\"sexual\":{\"filtered\":false,\"severity\":\"safe\"},\"violence\":{\"filtered\":false,\"severity\":\"safe\"}}}],\"system_fingerprint\":null,\"usage\":{\"completion_tokens\":26,\"prompt_tokens\":15,\"total_tokens\":41}}\n"
          },
          "cookies": [],
          "headers": [
            {
              "name": "cache-control",
              "value": "no-cache, must-revalidate"
            },
            {
              "name": "content-length",
              "value": "918"
            },
            {
              "name": "content-type",
              "value": "application/json"
            },
            {
              "name": "access-control-allow-origin",
              "value": "*"
            },
            {
              "name": "apim-request-id",
              "value": "4559c089-1137-45c4-8cdf-0eb965a130db"
            },
            {
              "name": "strict-transport-security",
              "value": "max-age=31536000; includeSubDomains; preload"
            },
            {
              "name": "x-content-type-options",
              "value": "nosniff"
            },
            {
              "name": "x-ms-region",
              "value": "East US 2"
            },
            {
              "name": "x-ratelimit-remaining-requests",
              "value": "119"
            },
            {
              "name": "x-ratelimit-remaining-tokens",
              "value": "119984"
            },
            {
              "name": "x-accel-buffering",
              "value": "no"
            },
            {
              "name": "x-ms-rai-invoked",
              "value": "true"
            },
            {
              "name": "x-request-id",
              "value": "bc83093a-037c-4702-b966-677e5d573f92"
            },
            {
              "name": "azureml-model-session",
              "value": "d017-20241010133658"
            },
            {
              "name": "x-envoy-upstream-service-time",
              "value": "438"
            },
            {
              "name": "x-ms-client-request-id",
              "value": "d143cfc9-85f3-43f5-918f-1ea3ed3f3843"
            },
            {
              "name": "date",
              "value": "Thu, 12 Dec 2024 21:55:20 GMT"
            }
          ],
          "headersSize": 667,
          "httpVersion": "HTTP/1.1",
          "redirectURL": "",
          "status": 200,
          "statusText": "OK"
        },
        "startedDateTime": "2024-12-12T21:55:18.941Z",
        "time": 1240,
        "timings": {
          "blocked": -1,
          "connect": -1,
          "dns": -1,
          "receive": 0,
          "send": 0,
          "ssl": -1,
          "wait": 1240
        }
      }
    ],
    "pages": [],
    "version": "1.2"
  }
}
