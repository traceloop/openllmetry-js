{
  "log": {
    "_recordingName": "Test Ai21 with AWS Bedrock Instrumentation/should set request and response attributes in span for given prompt",
    "creator": {
      "comment": "persister:fs",
      "name": "Polly.JS",
      "version": "6.0.6"
    },
    "entries": [
      {
        "_id": "9d7b9514efb130669bd692bb43b6bd14",
        "_order": 0,
        "cache": {},
        "request": {
          "bodySize": 152,
          "cookies": [],
          "headers": [
            {
              "name": "content-type",
              "value": "application/json"
            },
            {
              "name": "accept",
              "value": "application/json"
            },
            {
              "name": "content-length",
              "value": "152"
            },
            {
              "name": "host",
              "value": "bedrock-runtime.us-east-1.amazonaws.com"
            },
            {
              "name": "x-amz-user-agent",
              "value": "aws-sdk-js/3.504.0"
            },
            {
              "name": "user-agent",
              "value": "aws-sdk-js/3.504.0 ua/2.0 os/darwin#23.2.0 lang/js md/nodejs#18.17.1 api/bedrock-runtime#3.504.0"
            },
            {
              "name": "amz-sdk-request",
              "value": "attempt=1; max=3"
            }
          ],
          "headersSize": 906,
          "httpVersion": "HTTP/1.1",
          "method": "POST",
          "postData": {
            "mimeType": "application/json",
            "params": [],
            "text": "{\"prompt\":\"What are the 4 cardinal directions?\",\"maxTokens\":200,\"temperature\":0.7,\"topP\":1,\"presencePenalty\":{\"scale\":0},\"frequencyPenalty\":{\"scale\":0}}"
          },
          "queryString": [],
          "url": "https://bedrock-runtime.us-east-1.amazonaws.com/model/ai21.j2-ultra-v1/invoke"
        },
        "response": {
          "bodySize": 3795,
          "content": {
            "mimeType": "application/json",
            "size": 3795,
            "text": "{\"id\":1234,\"prompt\":{\"text\":\"What are the 4 cardinal directions?\",\"tokens\":[{\"generatedToken\":{\"token\":\"▁What▁are▁the\",\"logprob\":-8.359489440917969,\"raw_logprob\":-8.359489440917969},\"topTokens\":null,\"textRange\":{\"start\":0,\"end\":12}},{\"generatedToken\":{\"token\":\"▁\",\"logprob\":-2.285381555557251,\"raw_logprob\":-2.285381555557251},\"topTokens\":null,\"textRange\":{\"start\":12,\"end\":13}},{\"generatedToken\":{\"token\":\"4\",\"logprob\":-1.6736732721328735,\"raw_logprob\":-1.6736732721328735},\"topTokens\":null,\"textRange\":{\"start\":13,\"end\":14}},{\"generatedToken\":{\"token\":\"▁cardinal\",\"logprob\":-9.445929527282715,\"raw_logprob\":-9.445929527282715},\"topTokens\":null,\"textRange\":{\"start\":14,\"end\":23}},{\"generatedToken\":{\"token\":\"▁directions\",\"logprob\":-1.811186671257019,\"raw_logprob\":-1.811186671257019},\"topTokens\":null,\"textRange\":{\"start\":23,\"end\":34}},{\"generatedToken\":{\"token\":\"?\",\"logprob\":-7.423980712890625,\"raw_logprob\":-7.423980712890625},\"topTokens\":null,\"textRange\":{\"start\":34,\"end\":35}}]},\"completions\":[{\"data\":{\"text\":\"\\nThe 4 cardinal directions are north, south, east, and west.\",\"tokens\":[{\"generatedToken\":{\"token\":\"<|newline|>\",\"logprob\":-7.748606662971724E-7,\"raw_logprob\":-1.6950124700088054E-4},\"topTokens\":null,\"textRange\":{\"start\":0,\"end\":1}},{\"generatedToken\":{\"token\":\"▁The\",\"logprob\":-0.1451297402381897,\"raw_logprob\":-0.35863903164863586},\"topTokens\":null,\"textRange\":{\"start\":1,\"end\":4}},{\"generatedToken\":{\"token\":\"▁\",\"logprob\":-0.029522042721509933,\"raw_logprob\":-0.13332468271255493},\"topTokens\":null,\"textRange\":{\"start\":4,\"end\":5}},{\"generatedToken\":{\"token\":\"4\",\"logprob\":-2.98023280720372E-7,\"raw_logprob\":-7.235741941258311E-5},\"topTokens\":null,\"textRange\":{\"start\":5,\"end\":6}},{\"generatedToken\":{\"token\":\"▁cardinal\",\"logprob\":-0.034624435007572174,\"raw_logprob\":-0.10095375776290894},\"topTokens\":null,\"textRange\":{\"start\":6,\"end\":15}},{\"generatedToken\":{\"token\":\"▁directions\",\"logprob\":-0.004902259446680546,\"raw_logprob\":-0.02680692821741104},\"topTokens\":null,\"textRange\":{\"start\":15,\"end\":26}},{\"generatedToken\":{\"token\":\"▁are\",\"logprob\":-0.0012631642166525126,\"raw_logprob\":-0.016326649114489555},\"topTokens\":null,\"textRange\":{\"start\":26,\"end\":30}},{\"generatedToken\":{\"token\":\"▁north\",\"logprob\":-0.4615718722343445,\"raw_logprob\":-0.531042754650116},\"topTokens\":null,\"textRange\":{\"start\":30,\"end\":36}},{\"generatedToken\":{\"token\":\",\",\"logprob\":-1.0872478014789522E-4,\"raw_logprob\":-0.002111707115545869},\"topTokens\":null,\"textRange\":{\"start\":36,\"end\":37}},{\"generatedToken\":{\"token\":\"▁south\",\"logprob\":-0.027229709550738335,\"raw_logprob\":-0.08000554889440536},\"topTokens\":null,\"textRange\":{\"start\":37,\"end\":43}},{\"generatedToken\":{\"token\":\",\",\"logprob\":-2.3841887468734058E-6,\"raw_logprob\":-1.5484087634831667E-4},\"topTokens\":null,\"textRange\":{\"start\":43,\"end\":44}},{\"generatedToken\":{\"token\":\"▁east\",\"logprob\":-0.0492381826043129,\"raw_logprob\":-0.12377499788999557},\"topTokens\":null,\"textRange\":{\"start\":44,\"end\":49}},{\"generatedToken\":{\"token\":\",\",\"logprob\":-5.048640741733834E-5,\"raw_logprob\":-0.0012357940431684256},\"topTokens\":null,\"textRange\":{\"start\":49,\"end\":50}},{\"generatedToken\":{\"token\":\"▁and\",\"logprob\":-0.0015142097836360335,\"raw_logprob\":-0.010838213376700878},\"topTokens\":null,\"textRange\":{\"start\":50,\"end\":54}},{\"generatedToken\":{\"token\":\"▁west\",\"logprob\":-1.180178969661938E-5,\"raw_logprob\":-4.164305282756686E-4},\"topTokens\":null,\"textRange\":{\"start\":54,\"end\":59}},{\"generatedToken\":{\"token\":\".\",\"logprob\":-0.026679469272494316,\"raw_logprob\":-0.07964508980512619},\"topTokens\":null,\"textRange\":{\"start\":59,\"end\":60}},{\"generatedToken\":{\"token\":\"<|endoftext|>\",\"logprob\":-0.019082747399806976,\"raw_logprob\":-0.11176060140132904},\"topTokens\":null,\"textRange\":{\"start\":60,\"end\":60}}]},\"finishReason\":{\"reason\":\"endoftext\"}}]}"
          },
          "cookies": [],
          "headers": [
            {
              "name": "date",
              "value": "Mon, 12 Feb 2024 22:42:23 GMT"
            },
            {
              "name": "content-type",
              "value": "application/json"
            },
            {
              "name": "content-length",
              "value": "3795"
            },
            {
              "name": "connection",
              "value": "keep-alive"
            },
            {
              "name": "x-amzn-requestid",
              "value": "ebb02963-1299-4974-a688-6f96e7d9357d"
            },
            {
              "name": "x-amzn-bedrock-invocation-latency",
              "value": "449"
            },
            {
              "name": "x-amzn-bedrock-output-token-count",
              "value": "17"
            },
            {
              "name": "x-amzn-bedrock-input-token-count",
              "value": "6"
            }
          ],
          "headersSize": 289,
          "httpVersion": "HTTP/1.1",
          "redirectURL": "",
          "status": 200,
          "statusText": "OK"
        },
        "startedDateTime": "2024-02-12T22:42:22.076Z",
        "time": 1168,
        "timings": {
          "blocked": -1,
          "connect": -1,
          "dns": -1,
          "receive": 0,
          "send": 0,
          "ssl": -1,
          "wait": 1168
        }
      }
    ],
    "pages": [],
    "version": "1.2"
  }
}
