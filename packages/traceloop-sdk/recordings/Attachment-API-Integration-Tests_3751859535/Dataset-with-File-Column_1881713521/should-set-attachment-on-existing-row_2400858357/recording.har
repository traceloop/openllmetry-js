{
  "log": {
    "_recordingName": "Attachment API Integration Tests/Dataset with File Column/should set attachment on existing row",
    "creator": {
      "comment": "persister:fs",
      "name": "Polly.JS",
      "version": "6.0.6"
    },
    "entries": [
      {
        "_id": "073eb84add402fb5e356cfe6736f995e",
        "_order": 0,
        "cache": {},
        "request": {
          "bodySize": 0,
          "cookies": [],
          "headers": [
            {
              "name": "x-traceloop-sdk-version",
              "value": "0.21.1"
            }
          ],
          "headersSize": 170,
          "httpVersion": "HTTP/1.1",
          "method": "GET",
          "queryString": [],
          "url": "https://api.traceloop.dev/v2/datasets/attachment-test-dataset"
        },
        "response": {
          "bodySize": 2945,
          "content": {
            "mimeType": "application/json; charset=utf-8",
            "size": 2945,
            "text": "{\"id\":\"cmieo347e000c01r7u2vdtwej\",\"slug\":\"attachment-test-dataset\",\"name\":\"attachment-test-dataset\",\"description\":\"Dataset for testing attachments\",\"columns\":{\"document\":{\"name\":\"document\",\"type\":\"file\"},\"name\":{\"name\":\"name\",\"type\":\"string\"}},\"total_columns\":2,\"created_at\":\"2025-11-25T14:24:34.826Z\",\"updated_at\":\"2025-11-25T14:24:35.652Z\",\"rows\":[{\"id\":\"cmieo3534000d01r7ii2j55ap\",\"row_index\":1,\"values\":{\"document\":{\"metadata\":{\"content_type\":\"\",\"created_at\":\"2025-11-25T14:24:36Z\",\"file_name\":\"\",\"pages\":10},\"status\":\"success\",\"storage\":\"external\",\"type\":\"file\",\"url\":\"https://example.com/sample.pdf\"},\"name\":\"Test Document\"},\"created_at\":\"2025-11-25T14:24:35.97Z\",\"updated_at\":\"2025-11-25T14:24:36.137Z\"},{\"id\":\"cmieo35gk000e01r76y2ahqgk\",\"row_index\":2,\"values\":{\"document\":{\"metadata\":{\"content_type\":\"text/plain\",\"created_at\":\"2025-11-25T14:24:36Z\",\"file_name\":\"test.txt\",\"size\":28,\"uploaded_at\":\"2025-11-25T14:24:37Z\"},\"status\":\"success\",\"storage\":\"internal\",\"storage_key\":\"c108269c-cf1e-4ac6-a7e4-5a456cc9fdb7/f8de4de0-197c-4a52-a5f7-40878bf47a42.txt\",\"type\":\"file\",\"url\":\"https://traceloop-staging-files.s3.amazonaws.com/c108269c-cf1e-4ac6-a7e4-5a456cc9fdb7/f8de4de0-197c-4a52-a5f7-40878bf47a42.txt?X-Amz-Algorithm=AWS4-HMAC-SHA256\\u0026X-Amz-Credential=ASIAQEMAC2MSU3CMXL7B%2F20251125%2Fus-east-1%2Fs3%2Faws4_request\\u0026X-Amz-Date=20251125T142437Z\\u0026X-Amz-Expires=3600\\u0026X-Amz-Security-Token=IQoJb3JpZ2luX2VjEKb%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLWVhc3QtMSJIMEYCIQCRLgkWwifNxxtB6H32gbsIMNuRw01HWhm1PTqezPb6zgIhALJqabefL8MABIGthjCv%2BRjwiJPtAME%2FAO5uOlBOG3W3KvkECG8QABoMMDA5Mzk1NDI2MDg1IgwA12CpHOg%2FrPgBqkUq1gQ%2BzWgEkTFKwXp%2BFHdosyrjLsi63m4qm5nXwAE4ksSrGI6PM3DJlLz3tpCsEu%2BfkYqK%2BvTo%2FiXP3KT5DsHdZTd3F18gLf54SGvF1kGOrrWvSg%2B3zrmWJe21wWbd8xdDMYeDMKaWpDVlfiUc%2BDf7aUL4BWAK%2BXgKvSeoQcDnGgwK8koHXjXQPjI4uF9g8b1mOjVxDHtTjbxEaaCc8xOFLRU2YtM3aBfnJyqJ%2BIXjRXwg0dZQUX47fSkoAncng8AHl19IXPwUopdS8mrpfJbU56SomWv0hOoj2ocqM3KCvMGjUldR3g3zqQneFwCPMRBZPx64s3rSL8hcnX4vuLj4LtFKTIgv%2BQdf7O1xrl7VU82oNag%2FpG3ui3Uk5eiL3G7SxLQpAZrqVSP05G0%2FBkbsWiIUY88r5QTvHvblBUtZg1oUqekakOER%2FYPCLDi9CmxosQTBKpZ1a8FygEq4D1y3%2BCFTXog1DauoGt0aL2mlFjMPSp7tQkF3c1m%2BO%2FPQiJPSg903X12FY2NORLMk5yQn9a727UNf1sGgzSEkZ%2BGElU2HqGFlCJXq1uz5q%2Ft6Nyf%2Bs4Asmi4oT0NPLJK0hW4erUFSls41Pj3yGVPRG4t%2BDqtCy8Shx5oB1Q46suhO5pXD3prvYPeTM8FIal5JXWKPV8A%2FG89aQsKeYx27QfPDCQcxMrrQydhPP6vFJvd3x3IaXXSbHo7XVV8HF4WD24a%2FfPRmn6popdFmHOSfJHXTlpyuLGpg9egeloyE0aFlRX1o%2FZ9lKbrlTvK6zVYj4Tp%2FL7MRTBJNpkVyMPPolskGOpcBQJBG%2FJAtPn3sc21mQ7DF5axpdIdqC7PTxispV7n0D%2F0rZ4kQWp9J8W%2F0lUTrBY2AvrcG20732Y55jxOASy40S8o%2FGJAJ1OpX97tlu0uyDw7QBF6CEA9AIXe3jpuCnW6RTVXY93Oo41N3SAEs9obLnDWE1InIA7p4Ryur4cmBdQI7%2F9JymLiChRosabObCjJVxwQElWkTlg%3D%3D\\u0026X-Amz-SignedHeaders=host\\u0026X-Amz-Signature=5353d161af9eaac041269587db9f5841273d630537b377f67a8eb22807ee5554\"},\"name\":\"Buffer Test\"},\"created_at\":\"2025-11-25T14:24:36.454Z\",\"updated_at\":\"2025-11-25T14:24:37.37Z\"}],\"total_rows\":2}"
          },
          "cookies": [],
          "headers": [
            {
              "name": "connection",
              "value": "keep-alive"
            },
            {
              "name": "content-type",
              "value": "application/json; charset=utf-8"
            },
            {
              "name": "date",
              "value": "Tue, 25 Nov 2025 14:24:37 GMT"
            },
            {
              "name": "server",
              "value": "kong/3.9.1"
            },
            {
              "name": "transfer-encoding",
              "value": "chunked"
            },
            {
              "name": "via",
              "value": "1.1 kong/3.9.1"
            },
            {
              "name": "x-kong-proxy-latency",
              "value": "1"
            },
            {
              "name": "x-kong-request-id",
              "value": "e7051b032db1a329de13c04bf79ce16c"
            },
            {
              "name": "x-kong-upstream-latency",
              "value": "3"
            }
          ],
          "headersSize": 285,
          "httpVersion": "HTTP/1.1",
          "redirectURL": "",
          "status": 200,
          "statusText": "OK"
        },
        "startedDateTime": "2025-11-25T14:24:37.404Z",
        "time": 155,
        "timings": {
          "blocked": -1,
          "connect": -1,
          "dns": -1,
          "receive": 0,
          "send": 0,
          "ssl": -1,
          "wait": 155
        }
      },
      {
        "_id": "1045935a90e5e9ee179819d500543fed",
        "_order": 0,
        "cache": {},
        "request": {
          "bodySize": 63,
          "cookies": [],
          "headers": [
            {
              "name": "content-type",
              "value": "application/json"
            },
            {
              "name": "x-traceloop-sdk-version",
              "value": "0.21.1"
            }
          ],
          "headersSize": 208,
          "httpVersion": "HTTP/1.1",
          "method": "POST",
          "postData": {
            "mimeType": "application/json",
            "params": [],
            "text": "{\"Rows\":[{\"name\":\"Row for attachment update\",\"document\":null}]}"
          },
          "queryString": [],
          "url": "https://api.traceloop.dev/v2/datasets/attachment-test-dataset/rows"
        },
        "response": {
          "bodySize": 223,
          "content": {
            "mimeType": "application/json; charset=utf-8",
            "size": 223,
            "text": "{\"rows\":[{\"id\":\"cmieo36et000f01r712e92l2y\",\"row_index\":3,\"values\":{\"document\":null,\"name\":\"Row for attachment update\"},\"created_at\":\"2025-11-25T14:24:37.686234835Z\",\"updated_at\":\"2025-11-25T14:24:37.686234835Z\"}],\"total\":1}"
          },
          "cookies": [],
          "headers": [
            {
              "name": "connection",
              "value": "keep-alive"
            },
            {
              "name": "content-length",
              "value": "223"
            },
            {
              "name": "content-type",
              "value": "application/json; charset=utf-8"
            },
            {
              "name": "date",
              "value": "Tue, 25 Nov 2025 14:24:37 GMT"
            },
            {
              "name": "server",
              "value": "kong/3.9.1"
            },
            {
              "name": "via",
              "value": "1.1 kong/3.9.1"
            },
            {
              "name": "x-kong-proxy-latency",
              "value": "0"
            },
            {
              "name": "x-kong-request-id",
              "value": "8671065732cadb62dcb751212e862848"
            },
            {
              "name": "x-kong-upstream-latency",
              "value": "7"
            }
          ],
          "headersSize": 278,
          "httpVersion": "HTTP/1.1",
          "redirectURL": "",
          "status": 201,
          "statusText": "Created"
        },
        "startedDateTime": "2025-11-25T14:24:37.561Z",
        "time": 160,
        "timings": {
          "blocked": -1,
          "connect": -1,
          "dns": -1,
          "receive": 0,
          "send": 0,
          "ssl": -1,
          "wait": 160
        }
      },
      {
        "_id": "8420e0ebd16cad7d24bc3fcfda1e9e26",
        "_order": 0,
        "cache": {},
        "request": {
          "bodySize": 59,
          "cookies": [],
          "headers": [
            {
              "name": "content-type",
              "value": "application/json"
            },
            {
              "name": "x-traceloop-sdk-version",
              "value": "0.21.1"
            }
          ],
          "headersSize": 262,
          "httpVersion": "HTTP/1.1",
          "method": "POST",
          "postData": {
            "mimeType": "application/json",
            "params": [],
            "text": "{\"type\":\"file\",\"url\":\"https://example.com/updated-doc.pdf\"}"
          },
          "queryString": [],
          "url": "https://api.traceloop.dev/v2/datasets/attachment-test-dataset/rows/cmieo36et000f01r712e92l2y/cells/document/external-url"
        },
        "response": {
          "bodySize": 81,
          "content": {
            "mimeType": "application/json; charset=utf-8",
            "size": 81,
            "text": "{\"storage\":\"external\",\"success\":true,\"url\":\"https://example.com/updated-doc.pdf\"}"
          },
          "cookies": [],
          "headers": [
            {
              "name": "connection",
              "value": "keep-alive"
            },
            {
              "name": "content-length",
              "value": "81"
            },
            {
              "name": "content-type",
              "value": "application/json; charset=utf-8"
            },
            {
              "name": "date",
              "value": "Tue, 25 Nov 2025 14:24:37 GMT"
            },
            {
              "name": "server",
              "value": "kong/3.9.1"
            },
            {
              "name": "via",
              "value": "1.1 kong/3.9.1"
            },
            {
              "name": "x-kong-proxy-latency",
              "value": "0"
            },
            {
              "name": "x-kong-request-id",
              "value": "95aba83976110f451f0cd90a28c6c912"
            },
            {
              "name": "x-kong-upstream-latency",
              "value": "8"
            }
          ],
          "headersSize": 277,
          "httpVersion": "HTTP/1.1",
          "redirectURL": "",
          "status": 200,
          "statusText": "OK"
        },
        "startedDateTime": "2025-11-25T14:24:37.721Z",
        "time": 162,
        "timings": {
          "blocked": -1,
          "connect": -1,
          "dns": -1,
          "receive": 0,
          "send": 0,
          "ssl": -1,
          "wait": 162
        }
      }
    ],
    "pages": [],
    "version": "1.2"
  }
}
