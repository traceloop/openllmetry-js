{
  "log": {
    "_recordingName": "Test AI SDK Integration with Recording/should capture and transform OpenAI cache tokens from providerMetadata",
    "creator": {
      "comment": "persister:fs",
      "name": "Polly.JS",
      "version": "6.0.6"
    },
    "entries": [
      {
        "_id": "0b783f60bd80d820d81c1f97a3218672",
        "_order": 0,
        "cache": {},
        "request": {
          "bodySize": 1587,
          "cookies": [],
          "headers": [
            {
              "name": "content-type",
              "value": "application/json"
            }
          ],
          "headersSize": 165,
          "httpVersion": "HTTP/1.1",
          "method": "POST",
          "postData": {
            "mimeType": "application/json",
            "params": [],
            "text": "{\"model\":\"gpt-4o-mini\",\"input\":[{\"role\":\"system\",\"content\":\"You are a helpful assistant. Here is some context: Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet. \"},{\"role\":\"user\",\"content\":[{\"type\":\"input_text\",\"text\":\"What is 2+2?\"}]}]}"
          },
          "queryString": [],
          "url": "https://api.openai.com/v1/responses"
        },
        "response": {
          "bodySize": 1459,
          "content": {
            "mimeType": "application/json",
            "size": 1459,
            "text": "{\n  \"id\": \"resp_0677ddbf2ea14ab700692ef7b573fc8190b2465294bc46c9be\",\n  \"object\": \"response\",\n  \"created_at\": 1764685749,\n  \"status\": \"completed\",\n  \"background\": false,\n  \"billing\": {\n    \"payer\": \"developer\"\n  },\n  \"error\": null,\n  \"incomplete_details\": null,\n  \"instructions\": null,\n  \"max_output_tokens\": null,\n  \"max_tool_calls\": null,\n  \"model\": \"gpt-4o-mini-2024-07-18\",\n  \"output\": [\n    {\n      \"id\": \"msg_0677ddbf2ea14ab700692ef7b61ca881909614f01572241115\",\n      \"type\": \"message\",\n      \"status\": \"completed\",\n      \"content\": [\n        {\n          \"type\": \"output_text\",\n          \"annotations\": [],\n          \"logprobs\": [],\n          \"text\": \"2 + 2 equals 4.\"\n        }\n      ],\n      \"role\": \"assistant\"\n    }\n  ],\n  \"parallel_tool_calls\": true,\n  \"previous_response_id\": null,\n  \"prompt_cache_key\": null,\n  \"prompt_cache_retention\": null,\n  \"reasoning\": {\n    \"effort\": null,\n    \"summary\": null\n  },\n  \"safety_identifier\": null,\n  \"service_tier\": \"default\",\n  \"store\": true,\n  \"temperature\": 1.0,\n  \"text\": {\n    \"format\": {\n      \"type\": \"text\"\n    },\n    \"verbosity\": \"medium\"\n  },\n  \"tool_choice\": \"auto\",\n  \"tools\": [],\n  \"top_logprobs\": 0,\n  \"top_p\": 1.0,\n  \"truncation\": \"disabled\",\n  \"usage\": {\n    \"input_tokens\": 330,\n    \"input_tokens_details\": {\n      \"cached_tokens\": 300\n    },\n    \"output_tokens\": 9,\n    \"output_tokens_details\": {\n      \"reasoning_tokens\": 0\n    },\n    \"total_tokens\": 339\n  },\n  \"user\": null,\n  \"metadata\": {}\n}"
          },
          "cookies": [
            {
              "domain": ".api.openai.com",
              "httpOnly": true,
              "name": "_cfuvid",
              "path": "/",
              "sameSite": "None",
              "secure": true,
              "value": "llmKM2ynH7jqas_i.HwJJ1dE8uBnIpc2VScgc0WD7SY-1764685751654-0.0.1.1-604800000"
            }
          ],
          "headers": [
            {
              "name": "alt-svc",
              "value": "h3=\":443\"; ma=86400"
            },
            {
              "name": "cf-cache-status",
              "value": "DYNAMIC"
            },
            {
              "name": "cf-ray",
              "value": "9a7b83cd5a929b09-TLV"
            },
            {
              "name": "connection",
              "value": "keep-alive"
            },
            {
              "name": "content-encoding",
              "value": "br"
            },
            {
              "name": "content-type",
              "value": "application/json"
            },
            {
              "name": "date",
              "value": "Tue, 02 Dec 2025 14:29:11 GMT"
            },
            {
              "name": "openai-organization",
              "value": "traceloop"
            },
            {
              "name": "openai-processing-ms",
              "value": "2132"
            },
            {
              "name": "openai-project",
              "value": "proj_tzz1TbPPOXaf6j9tEkVUBIAa"
            },
            {
              "name": "openai-version",
              "value": "2020-10-01"
            },
            {
              "name": "server",
              "value": "cloudflare"
            },
            {
              "name": "set-cookie",
              "value": "_cfuvid=llmKM2ynH7jqas_i.HwJJ1dE8uBnIpc2VScgc0WD7SY-1764685751654-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None"
            },
            {
              "name": "strict-transport-security",
              "value": "max-age=31536000; includeSubDomains; preload"
            },
            {
              "name": "transfer-encoding",
              "value": "chunked"
            },
            {
              "name": "x-content-type-options",
              "value": "nosniff"
            },
            {
              "name": "x-envoy-upstream-service-time",
              "value": "2136"
            },
            {
              "name": "x-ratelimit-limit-requests",
              "value": "30000"
            },
            {
              "name": "x-ratelimit-limit-tokens",
              "value": "150000000"
            },
            {
              "name": "x-ratelimit-remaining-requests",
              "value": "29999"
            },
            {
              "name": "x-ratelimit-remaining-tokens",
              "value": "149999650"
            },
            {
              "name": "x-ratelimit-reset-requests",
              "value": "2ms"
            },
            {
              "name": "x-ratelimit-reset-tokens",
              "value": "0s"
            },
            {
              "name": "x-request-id",
              "value": "req_e824c1416141465c84a31c2d2f74bcea"
            }
          ],
          "headersSize": 958,
          "httpVersion": "HTTP/1.1",
          "redirectURL": "",
          "status": 200,
          "statusText": "OK"
        },
        "startedDateTime": "2025-12-02T14:29:07.237Z",
        "time": 5838,
        "timings": {
          "blocked": -1,
          "connect": -1,
          "dns": -1,
          "receive": 0,
          "send": 0,
          "ssl": -1,
          "wait": 5838
        }
      }
    ],
    "pages": [],
    "version": "1.2"
  }
}
